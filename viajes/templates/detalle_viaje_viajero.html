{% extends 'base1.html' %}
{% load static %}


{% block title %}
    Reito
{% endblock title %}
    

{% block body %}


<!-- Card for the reservation state, it appears if the request is from a reservation -->
{% if tiene_reserva %}
    <div class="container col-sm-11 col-md-9 col-lg-5">
        <div class="card">
            <div class="estado">
                {% if estado_reserva %}
                <div class="card-header text-center estado_positivo">
                    <h2 class="card-title">Reserva aceptada</h2>
                </div>
                {% else %}
                <div class="card-header text-center estado_negativo">
                    <h2 class="card-title">Reserva en espera de aprobaci&oacute;n</h2>
                </div>
                {% endif %}
            </div>
            
            {% if estado_reserva %}
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">Tel&eacute;fono: {{telefono}}</li>
                    
                    {% if vehiculo %}
                        <li class="list-group-item">Matr&iacute;cula de veh&iacute;culo: {{vehiculo.matricula}}</li>
                        <li class="list-group-item">Descripci&oacute;n de veh&iacute;culo: {{vehiculo.descripcion}}</li>
                    {% else %}
                        <li class="list-group-item">Este Reito no tiene veh&iacute;culo asignado.</li>
                    {% endif %}
                        
                    
                    <!-- <li class="list-group-item"><strong>Matr&iacute;cula:</strong> {{vehiculo.matricula}}</li>
                    <li class="list-group-item"><strong>Autom&oacute;vil:</strong>{{vehiculo.descripcion}}</li> -->
                </ul>
            {% endif %}
        </div> 
    </div>
    <br>
{% endif %}


<div class="container col-sm-11 col-md-9 col-lg-5">
    <div class="card">
        <div class="card-header text-center">
            <h1 class="card-title">{{viaje.destino}}</h1>
            <h5 class="card-title">{{viaje.fecha}}</h5>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">Hora: {{viaje.hora}}</li>
            <li class="list-group-item">Precio: ${{viaje.precio}}</li>
            
            {% if vehiculo %}
                <li class="list-group-item">Marca del veh&iacute;culo: {{vehiculo.marca}}</li>
                <li class="list-group-item">Modelo del veh&iacute;culo: {{vehiculo.modelo}}</li>
                
                {% if viaje.asientos == 1 %}
                    <li class="list-group-item">{{viaje.asientos}} asiento disponible</li>
                {% else %}
                    <li class="list-group-item">{{viaje.asientos}} asientos disponibles</li> 
                {% endif %}
            {% else %}
                <li class="list-group-item">Este Reito no tiene veh&iacute;culo asignado.</li>
                
            {% endif %}
                
                
            
        </ul>
        
        <div class="card-body">
            <p class="card-text">Descripci&oacute;n: {{viaje.descripcion}}</p>
        </div>
    </div> 
</div>

<br>
<br>

<div class="container col-sm-11 col-md-9 col-lg-5">
    <div class="card">
        <div class="text-center card-header">
            {% if foto %}
                <img src="{{foto.url}}" alt="" style="width: 200px" class="">
            {% else %}
                <img src="{% get_media_prefix %}img/usuario.png" style="width: 200px" class="">
            {% endif %}
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
                <h1 class="text-center">{{viaje.conductor}}</h1>
            </li>
            <li class="list-group-item">
                {% if descripcion %}
                    <p class="card-text">{{viaje.conductor.descripcion}}</p>
                {% else %}
                    <p class="card-text">&Eacute;ste usuario a&uacute;n no tiene descripci&oacute;n.</p>
                {% endif %}
            </li>
            
        </ul>
        
    </div>

    <br>

    <div class="text-muted text-center">
        <a href="javascript:history.back()" class="btn boton-negativo"> Volver </a>
        {% if tiene_reserva %}
            <a class="btn boton-negativo" href="{% url 'reservas:cancelar' user.id viaje.id %}">Cancelar</a>
        {% else %}
            <a class="btn boton" href="{% url 'reservas:nueva' user.id viaje.id %}">Reservar</a>
        {% endif %}
    </div>
</div>
<br>
<br>


    
{% endblock body %}
    